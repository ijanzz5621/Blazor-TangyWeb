@page "/learnBlazor/parentComponent"

@using TangyWeb_Server.Pages.LearnBlazor.LearnBlazorComponents

<h3>Parent Component</h3>

<CascadingValue Value="@MessageForGrandChild" Name="message">
    <CascadingValue Value="@LuckyNumber" Name="luckyNumber">
        <_ChildComponent Title="This title is passed as parameter from Parent Component" OnButtonClick="ShowMessage">

            <ChildContent>
                Render fragment from Parent!!!
            </ChildContent>

            <DangerChildContent>
                This is a danger child content!!!
            </DangerChildContent>

        </_ChildComponent>
    </CascadingValue>
</CascadingValue>

<p><b>@messageText</b></p>

@*<_AnotherChildComponent Placeholder="What is your name?" Required="true" MaxLength="10"></_AnotherChildComponent>*@

Attribute Splatting
@*<_AttributeSplatting InputAttributes="InputAttributesFromParent" placeholder="Parent placeholder"></_AttributeSplatting>*@
<_AttributeSplatting placeholder="Parent placeholder"></_AttributeSplatting>

@*<_ChildComponent Title="This is a second child component">
</_ChildComponent>*@

@code {
    public string MessageForGrandChild = "This message is from you grand parent";
    public string LuckyNumber = "7";

    public string messageText = ""; 

    public Dictionary<string, object>? InputAttributesFromParent { get; set; } = new Dictionary<string, object>()
    {
        { "required", false },
        //{ "placeholder", "What is yout name please....?" },
        { "maxlength", 10 }
    };

    private void ShowMessage()
    {
        messageText = "Tangy button clicked from child component";
    }

}
